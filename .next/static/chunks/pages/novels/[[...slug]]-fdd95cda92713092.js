(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{103:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/novels/[[...slug]]",function(){return t(8863)}])},4933:function(e,n,t){"use strict";t.d(n,{z:function(){return AudioPlayer}});var a=t(5893);t(7294);let AudioPlayer=e=>{let{src:n}=e;return(0,a.jsx)("audio",{controls:!0,src:n,className:"w-full mt-2",children:"お使いのブラウザはaudio要素に対応していません。"})}},4390:function(e,n,t){"use strict";t.d(n,{Z:function(){return LanguageSwitcher}});var a=t(5893),s=t(7294),r=t(3317);function LanguageSwitcher(e){let{onLanguageChange:n,className:t=""}=e,[l,c]=(0,s.useState)("ja"),[i,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=(0,r.UO)();c(e)},[]);let handleLanguageSelect=e=>{c(e),(0,r.bP)(e),o(!1),n&&n(e)};return(0,a.jsxs)("div",{className:"relative ".concat(t),children:[(0,a.jsxs)("button",{onClick:()=>o(!i),className:"flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 rounded px-3 py-1 text-sm","aria-label":"言語選択",children:[(0,a.jsx)("span",{children:r.E7[l].flag}),(0,a.jsx)("span",{children:r.E7[l].nativeName}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(i?"rotate-180":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),i&&(0,a.jsx)("div",{className:"absolute right-0 mt-1 bg-white rounded shadow-lg z-10 py-1 min-w-32",children:Object.entries(r.E7).map(e=>{let[n,t]=e;return(0,a.jsxs)("button",{onClick:()=>handleLanguageSelect(n),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2 \n                ".concat(l===n?"bg-gray-100":""),children:[(0,a.jsx)("span",{children:t.flag}),(0,a.jsx)("span",{children:t.nativeName})]},n)})})]})}},7353:function(e,n,t){"use strict";t.d(n,{V:function(){return Tag},Z:function(){return TagList}});var a=t(5893);t(7294);var s=t(1664),r=t.n(s);function Tag(e){let{tag:n,size:t="md",className:s="",asLink:l=!0}=e,c="inline-block rounded px-2 py-1 text-gray-700 bg-gray-200 hover:bg-gray-300 transition-colors",i={sm:"text-xs px-1.5 py-0.5",md:"text-sm px-2 py-1",lg:"text-base px-3 py-1.5"},o=(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"#"}),(0,a.jsx)("span",{children:n})]});return l?(0,a.jsx)(r(),{href:"/tags/".concat(n),children:(0,a.jsx)("span",{className:"".concat(c," ").concat(i[t]," ").concat(s," cursor-pointer"),children:o})}):(0,a.jsx)("span",{className:"".concat(c," ").concat(i[t]," ").concat(s),children:o})}function TagList(e){let{tags:n,size:t="md",className:s="",asLinks:r=!0}=e;return n&&0!==n.length?(0,a.jsx)("div",{className:"flex flex-wrap gap-2 ".concat(s),children:n.map(e=>(0,a.jsx)(Tag,{tag:e,size:t,asLink:r},e))}):null}},3317:function(e,n,t){"use strict";t.d(n,{E7:function(){return a},UO:function(){return getLanguagePreference},bP:function(){return saveLanguagePreference},k$:function(){return s}});let a={ja:{name:"日本語",nativeName:"日本語",code:"ja",flag:"\uD83C\uDDEF\uD83C\uDDF5",dir:"ltr"},en:{name:"英語",nativeName:"English",code:"en",flag:"\uD83C\uDDFA\uD83C\uDDF8",dir:"ltr"},zh:{name:"中国語",nativeName:"中文",code:"zh",flag:"\uD83C\uDDE8\uD83C\uDDF3",dir:"ltr"},fr:{name:"フランス語",nativeName:"Fran\xe7ais",code:"fr",flag:"\uD83C\uDDEB\uD83C\uDDF7",dir:"ltr"},de:{name:"ドイツ語",nativeName:"Deutsch",code:"de",flag:"\uD83C\uDDE9\uD83C\uDDEA",dir:"ltr"}},s="ja";function saveLanguagePreference(e){localStorage.setItem("preferredLanguage",e)}function getLanguagePreference(){let e=localStorage.getItem("preferredLanguage");return e&&e in a?e:function(){let e=navigator.language.split("-")[0];return e in a?e:s}()}},8863:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return h},default:function(){return NovelDetailPage}});var a=t(5893);t(1864);var s=t(1163),r=t(8885),l=t(7353),c=t(3317),i=t(4390),o=t(1664),u=t.n(o),d=t(4933),g=t(7294),x=t(9008),m=t.n(x),h=!0;function NovelDetailPage(e){let{novel:n,currentLanguage:t}=e,o=(0,s.useRouter)(),[x,h]=(0,g.useState)(!1),f=o.query.slug||[],p=f.length>1?f[f.length-1]:f[0],handleLanguageChange=e=>{h(!0),e===c.k$?o.push("/novels/".concat(p)):o.push("/novels/".concat(e,"/").concat(p))};return((0,g.useEffect)(()=>{let handleRouteChangeComplete=()=>h(!1);return o.events.on("routeChangeComplete",handleRouteChangeComplete),()=>{o.events.off("routeChangeComplete",handleRouteChangeComplete)}},[o.events]),o.isFallback||!n)?(0,a.jsx)("div",{children:"Loading novel content..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m(),{children:[(0,a.jsxs)("title",{children:[n.title," - EroNews Generator"]}),(0,a.jsx)("meta",{name:"description",content:n.excerpt||n.content.slice(0,150)}),(0,a.jsx)("meta",{property:"og:title",content:n.title}),(0,a.jsx)("meta",{property:"og:description",content:n.excerpt||n.content.slice(0,150)})]}),(0,a.jsxs)("main",{className:"max-w-2xl mx-auto py-8 px-4",children:[x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"text-lg",children:"読み込み中..."})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)(u(),{href:"/",className:"text-gray-500 hover:text-gray-700 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"トップに戻る"]}),(0,a.jsx)(i.Z,{onLanguageChange:handleLanguageChange,className:"ml-auto"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:n.title}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:n.date}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.Z,{tags:n.tags})}),n.audioUrl&&(0,a.jsxs)("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"音声版"}),(0,a.jsx)(d.z,{src:n.audioUrl})]}),(0,a.jsx)("article",{className:"prose prose-pink max-w-none",children:(0,a.jsx)(r.UG,{children:n.content})}),n.availableLanguages&&n.availableLanguages.length>1&&(0,a.jsxs)("div",{className:"mt-8 pt-4 border-t",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"他の言語で読む:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.availableLanguages.map(e=>{var n,s;return(0,a.jsxs)("button",{onClick:()=>handleLanguageChange(e),disabled:e===t||x,className:"flex items-center space-x-1 px-3 py-1 rounded-md transition-colors\n                    ".concat(e===t?"bg-pink-500 text-white cursor-default":"bg-gray-100 hover:bg-gray-200 disabled:opacity-50"),children:[(0,a.jsx)("span",{children:(null===(n=c.E7[e])||void 0===n?void 0:n.flag)||""}),(0,a.jsx)("span",{children:(null===(s=c.E7[e])||void 0===s?void 0:s.name)||e})]},e)})})]})]})]})}}},function(e){e.O(0,[774,664,510,888,179],function(){return e(e.s=103)}),_N_E=e.O()}]);