(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{103:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/novels/[[...slug]]",function(){return t(8863)}])},9174:function(e,a,t){"use strict";t.d(a,{z:function(){return AudioPlayer}});var r=t(5893),s=t(7294);let l=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}),n=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}),i=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),s.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}),AudioPlayer=e=>{let{src:a}=e,[t,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)(0),[m,x]=(0,s.useState)(0),[g,u]=(0,s.useState)(.75),h=(0,s.useRef)(null),formatTime=e=>isNaN(e)?"00:00":"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return(0,r.jsxs)("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-800 p-3 shadow-sm",children:[(0,r.jsx)("audio",{ref:h,src:a,onTimeUpdate:()=>{let e=h.current;e&&x(e.currentTime)},onLoadedMetadata:()=>{let e=h.current;e&&o(e.duration)},onEnded:()=>{c(!1),x(0)},children:"お使いのブラウザはaudio要素に対応していません。"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{onClick:()=>{let e=h.current;e&&(t?e.pause():e.play(),c(!t))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary-500 hover:bg-primary-600 text-white transition-all","aria-label":t?"一時停止":"再生",children:t?(0,r.jsx)(l,{className:"h-5 w-5"}):(0,r.jsx)(n,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:[formatTime(m)," / ",formatTime(d)]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(i,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:g,onChange:e=>{let a=h.current;if(!a)return;let t=parseFloat(e.target.value);a.volume=t,u(t)},className:"w-16 h-1 appearance-none bg-gray-300 dark:bg-gray-700 rounded-full overflow-hidden"})]})]}),(0,r.jsxs)("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 h-full bg-primary-500",style:{width:"".concat(m/d*100,"%")}}),(0,r.jsx)("input",{type:"range",min:"0",max:d||0,value:m,onChange:e=>{let a=h.current;if(!a)return;let t=parseInt(e.target.value);a.currentTime=t,x(t)},className:"absolute w-full h-full opacity-0 cursor-pointer"})]})]})]})}},7353:function(e,a,t){"use strict";t.d(a,{Z:function(){return TagList}});var r=t(5893);t(7294);var s=t(1664),l=t.n(s),n=t(8907);function Tag(e){let{tag:a,size:t="md",className:s="",asLink:i=!0}=e,c=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{className:"".concat({xs:"w-3 h-3",sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"}[t]," opacity-70")}),(0,r.jsx)("span",{children:a})]}),d="".concat("inline-flex items-center justify-center space-x-1 rounded-full transition-all duration-200"," ").concat({xs:"text-xs px-2 py-0.5",sm:"text-xs px-2.5 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"}[t]," ").concat(i?"bg-gray-100 text-gray-700 hover:bg-primary-100 hover:text-primary-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-primary-900/30 dark:hover:text-primary-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"," ").concat(s);return i?(0,r.jsx)(l(),{href:"/tags/".concat(a),className:"".concat(d," group"),children:c}):(0,r.jsx)("span",{className:d,children:c})}function TagList(e){let{tags:a,size:t="md",className:s="",asLinks:l=!0,selectedTag:i=null,onClick:c,showCount:d=!1,counts:o={},variant:m="default"}=e;if(!a||0===a.length)return null;let handleTagClick=e=>{c&&c(e)},x={default:"",light:"text-white bg-white/20 hover:bg-white/30 border border-white/30"};return(0,r.jsx)("div",{className:"flex flex-wrap gap-2 ".concat(s),children:a.map(e=>{let a=i===e,s=d&&o?o[e]:null;return(0,r.jsx)("div",{className:"animate-fade-in",children:c?(0,r.jsxs)("button",{onClick:()=>handleTagClick(e),className:"inline-flex items-center justify-center space-x-1 rounded-full transition-all duration-200 \n                  ".concat("xs"===t?"text-xs px-2 py-0.5":"sm"===t?"text-xs px-2.5 py-0.5":"lg"===t?"text-base px-4 py-1.5":"text-sm px-3 py-1","\n                  ").concat(a?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 ".concat(x[m])),type:"button",children:[(0,r.jsx)(n.Z,{className:"".concat("xs"===t?"w-3 h-3":"sm"===t?"w-3 h-3":"lg"===t?"w-4 h-4":"w-3.5 h-3.5"," opacity-70")}),(0,r.jsx)("span",{children:e}),null!==s&&(0,r.jsxs)("span",{className:"ml-1 opacity-70",children:["(",s,")"]})]}):(0,r.jsx)(Tag,{tag:e,size:t,asLink:l})},e)})})}},3317:function(e,a,t){"use strict";t.d(a,{E7:function(){return r},k$:function(){return s}});let r={ja:{name:"日本語",nativeName:"日本語",code:"ja",flag:"\uD83C\uDDEF\uD83C\uDDF5",dir:"ltr"},en:{name:"英語",nativeName:"English",code:"en",flag:"\uD83C\uDDFA\uD83C\uDDF8",dir:"ltr"},zh:{name:"中国語",nativeName:"中文",code:"zh",flag:"\uD83C\uDDE8\uD83C\uDDF3",dir:"ltr"},fr:{name:"フランス語",nativeName:"Fran\xe7ais",code:"fr",flag:"\uD83C\uDDEB\uD83C\uDDF7",dir:"ltr"},de:{name:"ドイツ語",nativeName:"Deutsch",code:"de",flag:"\uD83C\uDDE9\uD83C\uDDEA",dir:"ltr"}},s="ja"},8863:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return j},default:function(){return NovelDetailPage}});var r=t(5893),s=t(1163),l=t(8885),n=t(7353),i=t(3317),c=t(1319),d=t(1664),o=t.n(d),m=t(9174),x=t(7294),g=t(9008),u=t.n(g),h=t(2913),p=t(5263),y=t(8771),f=t(9871),b=t(445),v=t(8523),j=!0;function NovelDetailPage(e){let{novel:a,currentLanguage:t}=e,d=(0,s.useRouter)(),[g,j]=(0,x.useState)(!1),[N,w]=(0,x.useState)(!1),k=d.query.slug||[],C=k.length>1?k[k.length-1]:k[0],handleLanguageChange=e=>{j(!0),e===i.k$?d.push("/novels/".concat(C)):d.push("/novels/".concat(e,"/").concat(C))};return((0,x.useEffect)(()=>{let handleRouteChangeComplete=()=>j(!1);return d.events.on("routeChangeComplete",handleRouteChangeComplete),(()=>{{let e=JSON.parse(localStorage.getItem("bookmarks")||"[]");w(e.includes(a.slug))}})(),()=>{d.events.off("routeChangeComplete",handleRouteChangeComplete)}},[d.events,a.slug]),d.isFallback||!a)?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,r.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-200 dark:bg-primary-900 mb-4"}),(0,r.jsx)("div",{className:"text-primary-600 dark:text-primary-400",children:"記事を読み込み中..."})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsxs)("title",{children:[a.title," - News24"]}),(0,r.jsx)("meta",{name:"description",content:a.excerpt||a.content.slice(0,150)}),(0,r.jsx)("meta",{property:"og:title",content:a.title}),(0,r.jsx)("meta",{property:"og:description",content:a.excerpt||a.content.slice(0,150)}),(0,r.jsx)("meta",{property:"og:type",content:"article"}),(0,r.jsx)("meta",{property:"article:published_time",content:a.date}),(0,r.jsx)("meta",{property:"article:tag",content:a.tags.join(", ")})]}),g&&(0,r.jsx)("div",{className:"fixed inset-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity",children:(0,r.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-200 dark:bg-primary-900 mb-4"}),(0,r.jsx)("div",{className:"text-primary-600 dark:text-primary-400",children:"読み込み中..."})]})}),(0,r.jsxs)("main",{className:"container-custom py-8 animate-fade-in",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)(o(),{href:"/",className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),(0,r.jsx)("span",{children:"トップに戻る"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{{let e=JSON.parse(localStorage.getItem("bookmarks")||"[]"),t=[];t=N?e.filter(e=>e!==a.slug):[...e,a.slug],localStorage.setItem("bookmarks",JSON.stringify(t)),w(!N)}},className:"p-2 rounded-full transition-colors ".concat(N?"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":N?"ブックマークから削除":"ブックマークに追加",children:(0,r.jsx)(p.Z,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:a.title,text:a.excerpt,url:window.location.href}).catch(e=>console.log("共有に失敗しました",e)):navigator.clipboard.writeText(window.location.href).then(()=>alert("URLをクリップボードにコピーしました")).catch(()=>alert("URLのコピーに失敗しました"))},className:"p-2 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"この記事を共有",children:(0,r.jsx)(y.Z,{className:"h-5 w-5"})}),(0,r.jsx)(c.Z,{})]})]}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("header",{className:"mb-8",children:[a.coverImage&&(0,r.jsx)("div",{className:"relative h-64 md:h-96 mb-6 rounded-lg overflow-hidden shadow-lg",children:(0,r.jsx)("img",{src:a.coverImage,alt:"".concat(a.title,"のカバー画像"),className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(n.Z,{tags:a.tags,size:"sm"})}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white leading-tight",children:a.title}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center text-sm text-gray-500 dark:text-gray-400 gap-4",children:[a.date&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("time",{dateTime:a.date,children:a.date})]}),a.readingTime&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),(0,r.jsxs)("span",{children:["読了時間: 約",a.readingTime,"分"]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),(0,r.jsxs)("span",{children:["文字数: ",a.content.length,"文字"]})]})]})]}),a.audioUrl&&(0,r.jsx)("div",{className:"mb-8 bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden",children:(0,r.jsx)(m.z,{src:a.audioUrl})}),(0,r.jsx)("article",{className:"prose prose-lg max-w-none dark:prose-invert prose-headings:text-gray-900 dark:prose-headings:text-white prose-a:text-primary-600 dark:prose-a:text-primary-400 mb-10",children:(0,r.jsx)(l.UG,{children:a.content})}),(0,r.jsxs)("div",{className:"border-t border-b border-gray-200 dark:border-gray-800 py-6 my-8",children:[(0,r.jsx)("h3",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"関連タグ:"}),(0,r.jsx)(n.Z,{tags:a.tags,size:"md"})]}),a.availableLanguages&&a.availableLanguages.length>1&&(0,r.jsxs)("div",{className:"my-8",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-3 text-gray-900 dark:text-white",children:"他の言語で読む"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.availableLanguages.map(e=>{var a,s;return(0,r.jsxs)("button",{onClick:()=>handleLanguageChange(e),disabled:e===t||g,className:"flex items-center space-x-1 px-3 py-1.5 rounded-md transition-colors\n                      ".concat(e===t?"bg-primary-100 border border-primary-200 text-primary-800 dark:bg-primary-900/30 dark:border-primary-800 dark:text-primary-400 cursor-default":"bg-gray-100 border border-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 disabled:opacity-50 text-gray-700 dark:text-gray-300"),children:[(0,r.jsx)("span",{children:(null===(a=i.E7[e])||void 0===a?void 0:a.flag)||""}),(0,r.jsx)("span",{children:(null===(s=i.E7[e])||void 0===s?void 0:s.name)||e})]},e)})})]})]})]})]})}}},function(e){e.O(0,[827,774,888,179],function(){return e(e.s=103)}),_N_E=e.O()}]);