(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{103:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/novels/[[...slug]]",function(){return r(8863)}])},4933:function(e,a,r){"use strict";r.d(a,{z:function(){return AudioPlayer}});var t=r(5893),s=r(7294),n=r(9493),l=r(1193),i=r(4830);let AudioPlayer=e=>{let{src:a}=e,[r,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)(0),[m,g]=(0,s.useState)(0),[x,u]=(0,s.useState)(.75),h=(0,s.useRef)(null),formatTime=e=>isNaN(e)?"00:00":"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return(0,t.jsxs)("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-800 p-3 shadow-sm",children:[(0,t.jsx)("audio",{ref:h,src:a,onTimeUpdate:()=>{let e=h.current;e&&g(e.currentTime)},onLoadedMetadata:()=>{let e=h.current;e&&o(e.duration)},onEnded:()=>{c(!1),g(0)},children:"お使いのブラウザはaudio要素に対応していません。"}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>{let e=h.current;e&&(r?e.pause():e.play(),c(!r))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary-500 hover:bg-primary-600 text-white transition-all","aria-label":r?"一時停止":"再生",children:r?(0,t.jsx)(n.Z,{className:"h-5 w-5"}):(0,t.jsx)(l.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:[formatTime(m)," / ",formatTime(d)]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:x,onChange:e=>{let a=h.current;if(!a)return;let r=parseFloat(e.target.value);a.volume=r,u(r)},className:"w-16 h-1 appearance-none bg-gray-300 dark:bg-gray-700 rounded-full overflow-hidden"})]})]}),(0,t.jsxs)("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 h-full bg-primary-500",style:{width:"".concat(m/d*100,"%")}}),(0,t.jsx)("input",{type:"range",min:"0",max:d||0,value:m,onChange:e=>{let a=h.current;if(!a)return;let r=parseInt(e.target.value);a.currentTime=r,g(r)},className:"absolute w-full h-full opacity-0 cursor-pointer"})]})]})]})}},7353:function(e,a,r){"use strict";r.d(a,{Z:function(){return TagList}});var t=r(5893);r(7294);var s=r(1664),n=r.n(s),l=r(8907);function Tag(e){let{tag:a,size:r="md",className:s="",asLink:i=!0}=e,c=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{className:"".concat({xs:"w-3 h-3",sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"}[r]," opacity-70")}),(0,t.jsx)("span",{children:a})]}),d="".concat("inline-flex items-center justify-center space-x-1 rounded-full transition-all duration-200"," ").concat({xs:"text-xs px-2 py-0.5",sm:"text-xs px-2.5 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"}[r]," ").concat(i?"bg-gray-100 text-gray-700 hover:bg-primary-100 hover:text-primary-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-primary-900/30 dark:hover:text-primary-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"," ").concat(s);return i?(0,t.jsx)(n(),{href:"/tags/".concat(a),className:"".concat(d," group"),children:c}):(0,t.jsx)("span",{className:d,children:c})}function TagList(e){let{tags:a,size:r="md",className:s="",asLinks:n=!0}=e;return a&&0!==a.length?(0,t.jsx)("div",{className:"flex flex-wrap gap-2 ".concat(s),children:a.map(e=>(0,t.jsx)("div",{className:"animate-fade-in",children:(0,t.jsx)(Tag,{tag:e,size:r,asLink:n})},e))}):null}},3317:function(e,a,r){"use strict";r.d(a,{E7:function(){return t},UO:function(){return getLanguagePreference},k$:function(){return s}});let t={ja:{name:"日本語",nativeName:"日本語",code:"ja",flag:"\uD83C\uDDEF\uD83C\uDDF5",dir:"ltr"},en:{name:"英語",nativeName:"English",code:"en",flag:"\uD83C\uDDFA\uD83C\uDDF8",dir:"ltr"},zh:{name:"中国語",nativeName:"中文",code:"zh",flag:"\uD83C\uDDE8\uD83C\uDDF3",dir:"ltr"},fr:{name:"フランス語",nativeName:"Fran\xe7ais",code:"fr",flag:"\uD83C\uDDEB\uD83C\uDDF7",dir:"ltr"},de:{name:"ドイツ語",nativeName:"Deutsch",code:"de",flag:"\uD83C\uDDE9\uD83C\uDDEA",dir:"ltr"}},s="ja";function getLanguagePreference(){let e=localStorage.getItem("preferredLanguage");return e&&e in t?e:function(){let e=navigator.language.split("-")[0];return e in t?e:s}()}},8863:function(e,a,r){"use strict";r.r(a),r.d(a,{__N_SSG:function(){return v},default:function(){return NovelDetailPage}});var t=r(5893),s=r(1163),n=r(8885),l=r(7353),i=r(3317),c=r(9333),d=r(1664),o=r.n(d),m=r(4933),g=r(7294),x=r(9008),u=r.n(x),h=r(2913),p=r(5263),y=r(8771),f=r(9871),j=r(445),b=r(8523),v=!0;function NovelDetailPage(e){let{novel:a,currentLanguage:r}=e,d=(0,s.useRouter)(),[x,v]=(0,g.useState)(!1),[N,k]=(0,g.useState)(!1),w=d.query.slug||[],D=w.length>1?w[w.length-1]:w[0],handleLanguageChange=e=>{v(!0),e===i.k$?d.push("/novels/".concat(D)):d.push("/novels/".concat(e,"/").concat(D))};return((0,g.useEffect)(()=>{let handleRouteChangeComplete=()=>v(!1);return d.events.on("routeChangeComplete",handleRouteChangeComplete),(()=>{{let e=JSON.parse(localStorage.getItem("bookmarks")||"[]");k(e.includes(a.slug))}})(),()=>{d.events.off("routeChangeComplete",handleRouteChangeComplete)}},[d.events,a.slug]),d.isFallback||!a)?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-200 dark:bg-primary-900 mb-4"}),(0,t.jsx)("div",{className:"text-primary-600 dark:text-primary-400",children:"記事を読み込み中..."})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u(),{children:[(0,t.jsxs)("title",{children:[a.title," - News24"]}),(0,t.jsx)("meta",{name:"description",content:a.excerpt||a.content.slice(0,150)}),(0,t.jsx)("meta",{property:"og:title",content:a.title}),(0,t.jsx)("meta",{property:"og:description",content:a.excerpt||a.content.slice(0,150)}),(0,t.jsx)("meta",{property:"og:type",content:"article"}),(0,t.jsx)("meta",{property:"article:published_time",content:a.date}),(0,t.jsx)("meta",{property:"article:tag",content:a.tags.join(", ")})]}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity",children:(0,t.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-200 dark:bg-primary-900 mb-4"}),(0,t.jsx)("div",{className:"text-primary-600 dark:text-primary-400",children:"読み込み中..."})]})}),(0,t.jsxs)("main",{className:"container-custom py-8 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)(o(),{href:"/",className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{children:"トップに戻る"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{{let e=JSON.parse(localStorage.getItem("bookmarks")||"[]"),r=[];r=N?e.filter(e=>e!==a.slug):[...e,a.slug],localStorage.setItem("bookmarks",JSON.stringify(r)),k(!N)}},className:"p-2 rounded-full transition-colors ".concat(N?"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":N?"ブックマークから削除":"ブックマークに追加",children:(0,t.jsx)(p.Z,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:a.title,text:a.excerpt,url:window.location.href}).catch(e=>console.log("共有に失敗しました",e)):navigator.clipboard.writeText(window.location.href).then(()=>alert("URLをクリップボードにコピーしました")).catch(()=>alert("URLのコピーに失敗しました"))},className:"p-2 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"この記事を共有",children:(0,t.jsx)(y.Z,{className:"h-5 w-5"})}),(0,t.jsx)(c.Z,{})]})]}),(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("header",{className:"mb-8",children:[a.coverImage&&(0,t.jsx)("div",{className:"relative h-64 md:h-96 mb-6 rounded-lg overflow-hidden shadow-lg",children:(0,t.jsx)("img",{src:a.coverImage,alt:"".concat(a.title,"のカバー画像"),className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(l.Z,{tags:a.tags,size:"sm"})}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white leading-tight",children:a.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center text-sm text-gray-500 dark:text-gray-400 gap-4",children:[a.date&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("time",{dateTime:a.date,children:a.date})]}),a.readingTime&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["読了時間: 約",a.readingTime,"分"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["文字数: ",a.content.length,"文字"]})]})]})]}),a.audioUrl&&(0,t.jsx)("div",{className:"mb-8 bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden",children:(0,t.jsx)(m.z,{src:a.audioUrl})}),(0,t.jsx)("article",{className:"prose prose-lg max-w-none dark:prose-invert prose-headings:text-gray-900 dark:prose-headings:text-white prose-a:text-primary-600 dark:prose-a:text-primary-400 mb-10",children:(0,t.jsx)(n.UG,{children:a.content})}),(0,t.jsxs)("div",{className:"border-t border-b border-gray-200 dark:border-gray-800 py-6 my-8",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"関連タグ:"}),(0,t.jsx)(l.Z,{tags:a.tags,size:"md"})]}),a.availableLanguages&&a.availableLanguages.length>1&&(0,t.jsxs)("div",{className:"my-8",children:[(0,t.jsx)("h3",{className:"text-xl font-medium mb-3 text-gray-900 dark:text-white",children:"他の言語で読む"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.availableLanguages.map(e=>{var a,s;return(0,t.jsxs)("button",{onClick:()=>handleLanguageChange(e),disabled:e===r||x,className:"flex items-center space-x-1 px-3 py-1.5 rounded-md transition-colors\n                      ".concat(e===r?"bg-primary-100 border border-primary-200 text-primary-800 dark:bg-primary-900/30 dark:border-primary-800 dark:text-primary-400 cursor-default":"bg-gray-100 border border-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 disabled:opacity-50 text-gray-700 dark:text-gray-300"),children:[(0,t.jsx)("span",{children:(null===(a=i.E7[e])||void 0===a?void 0:a.flag)||""}),(0,t.jsx)("span",{children:(null===(s=i.E7[e])||void 0===s?void 0:s.name)||e})]},e)})})]})]})]})]})}}},function(e){e.O(0,[739,774,888,179],function(){return e(e.s=103)}),_N_E=e.O()}]);