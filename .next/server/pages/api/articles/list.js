"use strict";(()=>{var e={};e.id=147,e.ids=[147],e.modules={8076:e=>{e.exports=require("gray-matter")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},5328:(e,r,t)=>{t.r(r),t.d(r,{config:()=>h,default:()=>x,routeModule:()=>v});var a={};t.r(a),t.d(a,{default:()=>handler});var n=t(1802),l=t(7153),i=t(6249),s=t(7147),o=t.n(s),c=t(1017),u=t.n(c),g=t(8076),d=t.n(g),p=t(8777);let{DEFAULT_LANGUAGE:m}=p,f=u().join(process.cwd(),"src/content/articles");function getAllArticles(e=m,r=null){let t=o().existsSync(f)?o().readdirSync(f).filter(e=>e.endsWith(".md")).map(e=>e.replace(/\.md$/,"")):(o().mkdirSync(f,{recursive:!0}),[]),a=t.map(r=>(function(e,r=m){try{let t=u().join(f,`${e}.md`);if(!o().existsSync(t))return null;let a=o().readFileSync(t,"utf8"),{data:n,content:l}=d()(a);if(r!==m&&n.language!==r)return null;return{slug:e,title:n.title,date:n.date,tags:n.tags||[],excerpt:n.excerpt||l.slice(0,150)+"...",content:l,language:n.language||r,translatedFrom:n.translatedFrom||null,originalUrl:n.originalUrl||"",originalSource:n.originalSource||"",sourceLanguage:n.sourceLanguage||m,coverImage:n.coverImage||null,readingTime:n.readingTime||function(e){let r=e.replace(/\s+/g,"").length;return Math.ceil(r/500)}(l),category:n.category||"technology"}}catch(r){return console.error(`Error reading article ${e}:`,r),null}})(r,e)).filter(Boolean).sort((e,r)=>new Date(r.date).getTime()-new Date(e.date).getTime());return r?a.filter(e=>e.category===r):a}var y=t(1098);async function handler(e,r){try{let t;let{lang:a,tag:n}=e.query;if(a&&"string"==typeof a&&!(0,p.isValidLang)(a))throw new y.MS(400,"Invalid Language","指定された言語はサポートされていません");t=n&&"string"==typeof n?function(e,r=m){let t=getAllArticles(r);return t.filter(r=>r.tags.includes(e))}(n,a):getAllArticles(a),r.status(200).json(t)}catch(e){console.error("API Error:",e),e instanceof y.MS?r.status(e.status).json({error:e.statusText,message:e.message}):r.status(500).json({error:"Internal Server Error",message:e instanceof Error?e.message:"不明なエラーが発生しました"})}}let x=(0,i.l)(a,"default"),h=(0,i.l)(a,"config"),v=new n.PagesAPIRouteModule({definition:{kind:l.x.PAGES_API,page:"/api/articles/list",pathname:"/api/articles/list",bundlePath:"",filename:""},userland:a})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[222,98,777],()=>__webpack_exec__(5328));module.exports=t})();