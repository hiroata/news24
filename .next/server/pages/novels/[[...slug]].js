"use strict";(()=>{var e={};e.id=963,e.ids=[963,888,660],e.modules={6219:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>b,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>k,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var r=s(7093),n=s(5244),l=s(1323),i=s(9209),o=s.n(i),c=s(1337),d=s.n(c),u=s(8863),g=e([u]);u=(g.then?(await g)():g)[0];let p=(0,l.l)(u,"default"),h=(0,l.l)(u,"getStaticProps"),x=(0,l.l)(u,"getStaticPaths"),m=(0,l.l)(u,"getServerSideProps"),b=(0,l.l)(u,"config"),v=(0,l.l)(u,"reportWebVitals"),f=(0,l.l)(u,"unstable_getStaticProps"),j=(0,l.l)(u,"unstable_getStaticPaths"),S=(0,l.l)(u,"unstable_getStaticParams"),y=(0,l.l)(u,"unstable_getServerProps"),P=(0,l.l)(u,"unstable_getServerSideProps"),k=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/novels/[[...slug]]",pathname:"/novels/[[...slug]]",bundlePath:"",filename:""},components:{App:d(),Document:o()},userland:u});a()}catch(e){a(e)}})},4933:(e,t,s)=>{s.d(t,{z:()=>AudioPlayer});var a=s(997);s(6689);let AudioPlayer=({src:e})=>a.jsx("audio",{controls:!0,src:e,className:"w-full mt-2",children:"お使いのブラウザはaudio要素に対応していません。"})},8863:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>NovelDetailPage,getStaticPaths:()=>getStaticPaths,getStaticProps:()=>getStaticProps});var r=s(997),n=s(7147),l=s.n(n),i=s(1017),o=s.n(i),c=s(1163),d=s(3135),u=s(7353),g=s(3317),p=s(4390),h=s(1664),x=s.n(h),m=s(4933),b=s(6689),v=s(4628),f=s(968),j=s.n(f),S=e([d]);d=(S.then?(await S)():S)[0];let getStaticPaths=async()=>{let e=(0,v.EU)(),t=[];return e.forEach(e=>{t.push({params:{slug:[e]}}),Object.keys(g.E7).forEach(s=>{if(s!==g.k$){let a=o().join(process.cwd(),"src/content/novels",`${e}.${s}.md`);l().existsSync(a)&&t.push({params:{slug:[s,e]}})}})}),{paths:t,fallback:"blocking"}},getStaticProps=async({params:e})=>{let t;let s=e?.slug;if(!s||0===s.length)return{notFound:!0};let a=g.k$;if(1===s.length)t=s[0];else{if(!(2===s.length&&(0,g.hy)(s[0])))return{notFound:!0};a=s[0],t=s[1]}let r=(0,v.Qf)(t,a);if(!r)return a!==g.k$&&(0,v.Qf)(t,g.k$),{notFound:!0};let n=[g.k$],i=r.slug;Object.keys(g.E7).forEach(e=>{if(e!==g.k$){let t=o().join(process.cwd(),"src/content/novels",`${i}.${e}.md`);l().existsSync(t)&&n.push(e)}});let c={...r,availableLanguages:n};return{props:{novel:c,currentLanguage:a},revalidate:60}};function NovelDetailPage({novel:e,currentLanguage:t}){let s=(0,c.useRouter)(),[a,n]=(0,b.useState)(!1),l=s.query.slug||[],i=l.length>1?l[l.length-1]:l[0],handleLanguageChange=e=>{n(!0),e===g.k$?s.push(`/novels/${i}`):s.push(`/novels/${e}/${i}`)};return((0,b.useEffect)(()=>{let handleRouteChangeComplete=()=>n(!1);return s.events.on("routeChangeComplete",handleRouteChangeComplete),()=>{s.events.off("routeChangeComplete",handleRouteChangeComplete)}},[s.events]),s.isFallback||!e)?r.jsx("div",{children:"Loading novel content..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j(),{children:[(0,r.jsxs)("title",{children:[e.title," - EroNews Generator"]}),r.jsx("meta",{name:"description",content:e.excerpt||e.content.slice(0,150)}),r.jsx("meta",{property:"og:title",content:e.title}),r.jsx("meta",{property:"og:description",content:e.excerpt||e.content.slice(0,150)})]}),(0,r.jsxs)("main",{className:"max-w-2xl mx-auto py-8 px-4",children:[a&&r.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50",children:r.jsx("div",{className:"text-lg",children:"読み込み中..."})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)(x(),{href:"/",className:"text-gray-500 hover:text-gray-700 flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"トップに戻る"]}),r.jsx(p.Z,{onLanguageChange:handleLanguageChange,className:"ml-auto"})]}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title}),r.jsx("div",{className:"text-sm text-gray-500 mb-4",children:e.date}),r.jsx("div",{className:"mb-6",children:r.jsx(u.Z,{tags:e.tags})}),e.audioUrl&&(0,r.jsxs)("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"音声版"}),r.jsx(m.z,{src:e.audioUrl})]}),r.jsx("article",{className:"prose prose-pink max-w-none",children:r.jsx(d.default,{children:e.content})}),e.availableLanguages&&e.availableLanguages.length>1&&(0,r.jsxs)("div",{className:"mt-8 pt-4 border-t",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"他の言語で読む:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.availableLanguages.map(e=>(0,r.jsxs)("button",{onClick:()=>handleLanguageChange(e),disabled:e===t||a,className:`flex items-center space-x-1 px-3 py-1 rounded-md transition-colors
                    ${e===t?"bg-pink-500 text-white cursor-default":"bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}`,children:[r.jsx("span",{children:g.E7[e]?.flag||""}),r.jsx("span",{children:g.E7[e]?.name||e})]},e))})]})]})]})}a()}catch(e){a(e)}})},8076:e=>{e.exports=require("gray-matter")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},3135:e=>{e.exports=import("react-markdown")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[514,209,337,656,664,163,436],()=>__webpack_exec__(6219));module.exports=s})();