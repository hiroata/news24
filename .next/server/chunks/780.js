"use strict";exports.id=780,exports.ids=[780],exports.modules={4933:(e,t,l)=>{l.d(t,{z:()=>AudioPlayer});var r=l(997),a=l(6689),n=l(9493),s=l(1193),o=l(4830);let AudioPlayer=({src:e})=>{let[t,l]=(0,a.useState)(!1),[i,u]=(0,a.useState)(0),[d,c]=(0,a.useState)(0),[g,m]=(0,a.useState)(.75),f=(0,a.useRef)(null),formatTime=e=>isNaN(e)?"00:00":`${Math.floor(e/60).toString().padStart(2,"0")}:${Math.floor(e%60).toString().padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-800 p-3 shadow-sm",children:[r.jsx("audio",{ref:f,src:e,onTimeUpdate:()=>{let e=f.current;e&&c(e.currentTime)},onLoadedMetadata:()=>{let e=f.current;e&&u(e.duration)},onEnded:()=>{l(!1),c(0)},children:"お使いのブラウザはaudio要素に対応していません。"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{let e=f.current;e&&(t?e.pause():e.play(),l(!t))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary-500 hover:bg-primary-600 text-white transition-all","aria-label":t?"一時停止":"再生",children:t?r.jsx(n.Z,{className:"h-5 w-5"}):r.jsx(s.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:[formatTime(d)," / ",formatTime(i)]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(o.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:g,onChange:e=>{let t=f.current;if(!t)return;let l=parseFloat(e.target.value);t.volume=l,m(l)},className:"w-16 h-1 appearance-none bg-gray-300 dark:bg-gray-700 rounded-full overflow-hidden"})]})]}),(0,r.jsxs)("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary-500",style:{width:`${d/i*100}%`}}),r.jsx("input",{type:"range",min:"0",max:i||0,value:d,onChange:e=>{let t=f.current;if(!t)return;let l=parseInt(e.target.value);t.currentTime=l,c(l)},className:"absolute w-full h-full opacity-0 cursor-pointer"})]})]})]})}},4628:(e,t,l)=>{l.d(t,{EU:()=>getAllNovelSlugs,Qf:()=>getNovelBySlug,Ys:()=>getAllTags,zd:()=>getNovelsByTag});var r=l(7147),a=l.n(r),n=l(1017),s=l.n(n),o=l(8076),i=l.n(o),u=l(3317);let{DEFAULT_LANGUAGE:d}=u,c=s().join(process.cwd(),"src/content/novels");function getAllNovelSlugs(){try{let e=a().readdirSync(c);return e.filter(e=>e.endsWith(".md")&&!e.match(/\.[a-z]{2}\.md$/)).map(e=>e.replace(/\.md$/,""))}catch(e){return console.error("Error getting novel slugs:",e),[]}}function getAllNovels(e=d){let t=getAllNovelSlugs(),l=t.map(t=>getNovelBySlug(t,e)).filter(e=>null!==e);return l.sort((e,t)=>e.date<t.date?1:-1)}function getNovelBySlug(e,t=d){try{let l=t===d?`${e}.md`:`${e}.${t}.md`,r=s().join(c,l);if(!a().existsSync(r)){if(t!==d)return getNovelBySlug(e,d);return null}let n=a().readFileSync(r,"utf8"),{data:o,content:u}=i()(n);return{slug:e,title:o.title,date:o.date,tags:o.tags||[],excerpt:o.excerpt||u.slice(0,100),content:u,language:t,translatedFrom:t!==d?d:null,audioUrl:o.audioUrl||null,coverImage:o.coverImage||null,readingTime:o.readingTime||function(e){let t=e.replace(/\s+/g,"").length,l=Math.ceil(t/400);if(l<1)return"1分未満";if(l<60)return`約${l}分`;{let e=Math.floor(l/60),t=l%60;return t>0?`約${e}時間${t}分`:`約${e}時間`}}(u)}}catch(t){return console.error(`Error reading novel ${e}:`,t),null}}function getNovelsByTag(e,t=d){let l=getAllNovels(t);return l.filter(t=>t.tags.includes(e))}function getAllTags(e=d){let t=getAllNovels(e),l={};return t.forEach(e=>{e.tags.forEach(e=>{l[e]=(l[e]||0)+1})}),l}}};